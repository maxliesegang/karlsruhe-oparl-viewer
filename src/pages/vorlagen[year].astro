---
import LegacyRedirectPage from "../components/LegacyRedirectPage.astro";
import { getAllAvailableYears } from "../shared/data";
import { buildVorlagenUrl } from "../shared/utils";

export async function getStaticPaths() {
  const allYears = await getAllAvailableYears();
  return allYears.map((year) => ({ params: { year } }));
}

const base = import.meta.env.BASE_URL;
const year = Astro.params.year ?? "";
const targetUrl = buildVorlagenUrl(base, year);
---

<LegacyRedirectPage targetUrl={targetUrl} />
